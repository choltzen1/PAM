-- User Story No. 			= CPO-15988
-- Requested By 			= Cade Holtzen
-- Request Date(DD/MM/YYYY) = 16/07/2025
-- Project 					= EFPE Promo Device - New Promo - Promo R223 - 25616 - BTS H2'25 - Launch Date 7/17/2025 12:00 AM
-------------------------------------------------------------------------

--PROD / ZLAB
BEGIN

--PROMO_ELIGIBILITY_RULES 
INSERT INTO PROMO_ELIGIBILITY_RULES (RULE_ID,PROMO_CODE,PROMO_START_DATE,PROMO_END_DATE,SYS_CREATION_DATE,OPERATOR_ID,APPLICATION_ID,DL_SERVICE_CODE,PROMO_DESCRIPTION,PROMO_DURATION,PROMO_AMOUNT,EFFECTIVE_DATE,EXPIRATION_DATE,SKU_GROUP_ID,PRIM_SKU_GROUP_ID,SOC_GROUP_ID,ATST_GROUP_ID,APPL_GROUP_ID,DEVICE_ST_GROUP_ID,FINANCE_TYPE,ACT_LINE_REQ_IND,APP_GRACE_GROUP_ID,TRADE_IN_GRP_ID,TRADE_IN_GRACE_PERIOD,MAINT_ACT_LINE_CHK_IND,MAINT_SOC_CHK_IND,STORE_GRP_ID,MARKET_GRP_ID,LIMIT_PER_BAN,TENURE_GROUP_ID,PORTIN_GROUP_ID,PROMO_PERC_DISC,C2_LINK,MIN_GSM_COUNT,MAX_GSM_COUNT,DISPLAY_PROMO,TIERED_GRP_ID,SEGMENT_GRP_ID,BOLTON_TRADE_IN_GRP_ID,PRODUCT_TYPE,PR_DATE,PROMO_GRACE_PERIOD,LINE_ST_GROUP_ID,NSEIP_DROP_IND,DELAY_TIME,DISPLAY_PROMO_START_DATE,DISPLAY_PROMO_END_DATE,MPSS_LOOKBACK,FLOW_INDICATOR,DOCUMENT_ID,DVC_STS_GRP_ID,CLAWBACK_IND) VALUES (PROMO_ELIGIBILITY_RULES_1SQ.NEXTVAL,'R223',to_date('2025-07-16 20:00:00','YYYY-MM-DD HH24:MI:SS'),to_date('2026-01-15 05:00:00','YYYY-MM-DD HH24:MI:SS'),sysdate,'15988','CPO','USRST','Mobile Internet ID250396',NULL,NULL,to_date('2025-07-16 20:00:00','YYYY-MM-DD HH24:MI:SS'),to_date('2026-01-15 05:00:00','YYYY-MM-DD HH24:MI:SS'),'Y28',NULL,NULL,NULL,NULL,NULL,NULL,'Y','G14','M65',NULL,'Y','Y','*','*',NULL,NULL,NULL,100,'https://c2.t-mobile.com/offers/25616',NULL,NULL,'Y',NULL,'R23',NULL,'B',NULL,NULL,'*','Y',NULL,to_date('2025-07-17 20:00:00','YYYY-MM-DD HH24:MI:SS'),to_date('2026-01-14 20:00:00','YYYY-MM-DD HH24:MI:SS'),14,NULL,'25616','DS1','N');

--PROMO_DEVICE_GROUPS


--PROMO_TRADEIN_GROUPS
Insert into PROMO_TRADEIN_GROUPS (TRADE_IN_GRP_ID, LOAN_SKU_GRP, MK_MDL_GRP_ID, SYS_CREATION_DATE,OPERATOR_ID,APPLICATION_ID,DL_SERVICE_CODE, TRADEIN_AMOUNT, TRADEIN_GROUP_DESC, TRADE_IN_COND_ID, MIN_FMV, MAX_FMV) Values ('M65','SKU','L89',sysdate,15988,'CPO','USRST',1000,'NEW PROMO - R223 TIER 1 - $1000','BT1',NULL,NULL);
Insert into PROMO_TRADEIN_GROUPS (TRADE_IN_GRP_ID, LOAN_SKU_GRP, MK_MDL_GRP_ID, SYS_CREATION_DATE,OPERATOR_ID,APPLICATION_ID,DL_SERVICE_CODE, TRADEIN_AMOUNT, TRADEIN_GROUP_DESC, TRADE_IN_COND_ID, MIN_FMV, MAX_FMV) Values ('M65','SKU','L90',sysdate,15988,'CPO','USRST',500,'NEW PROMO - R223 TIER 2 - $500','BT1',NULL,NULL);

--PROMO_TIERED_GROUPS


--PROMO_MK_MDL_GROUPS TIER 1

--PROMO_MK_MDL_GROUPS TIER 2

--PROMO_MK_MDL_GROUPS TIER 3


--Promo Segment 
Insert into PROMO_SEGMENT_GROUPS (GROUP_ID,SEGMENT_NAME,SYS_CREATION_DATE,OPERATOR_ID,APPLICATION_ID,DL_SERVICE_CODE,SUB_SEGMENT_NAME,SEGMENT_LEVEL) values ('R23','segment1',sysdate,15988,'CPO','USRST','Active Military','BAN');

END;

update efpe_generic_params set GEN_K3 = concat(GEN_K3,',R223'), SYS_UPDATE_DATE = sysdate where gen_k1 = 'BROKEN_TRD_PROMO_IND';